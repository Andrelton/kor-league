
<%
# apparently, 'reverse!' benchmarks as the fastest method here
owners_ranked_by_points = @owners.sort_by { |owner| owner.points }.reverse!
owners_ranked_by_points.each do |owner|

%>
  <div class="owner-section">

    <div class="left-wrapper">
      <div class="owner-name">
        <%= owner.name %>
      </div>
      <div class="point-data">
        <%= owner.points %> POINTS
      </div>
      <div class="profile-pic">
        <% if owner.avatar %>
          <img class="profile" src="<%= owner.avatar %>">
        <% else %>
          <img class="profile" src="/assets/leo.jpg">
        <% end %>
      </div>
    </div>

    <% if owner.clubs.any? %>

      <div class="club-area">
        <%

        clubs_ranked_by_points = owner.clubs.sort_by { |club| club.points }.reverse!
        clubs_ranked_by_points.each do |club|

        %>

            <%= render partial: "club_data", locals: { club: club } %>

        <% end %>
      </div>

    <% end %>

  </div>
<% end %>

<div class="headline">
  <p>
    * All times are LOCAL.
  </p>
</div>

<p class="footer">
  ..........
</p>

